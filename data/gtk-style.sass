@import 'old-gtk-style'

// Common widgets

// Button
button
  border: 0
  padding: 0
  margin: 0
  box-shadow: none
  background-image: none
  outline: none


// Scrollbar
scrollbar
  border: 0
  border-radius: 1ex
  background: transparentize(white, 0.7)

  slider
    background-color: white
    padding: 0
    border: 0
    margin: 2px

  slider:hover
    background-color: darken(white, 10%)


// Window
@keyframes background_zoom_in
    from
      background-size: 100%
    to
      background-size: 200%

ClubhouseWindow
  border-radius: 1ex
  background-color: unset
  background-size: cover
  background-repeat: no-repeat
  background-position: center
  background-image: url('resource:///com/hack_computer/Clubhouse/images/clubhouse_bg-blur.jpg')
  transition: background-image 200ms linear

  // Responsive resolution:
  // Main window will have 'small' class if screen resolution is 720p or less and
  // 'big' if its 1080p or more.
  font-size: 14px

  &.small
    font-size: 12px

  &.big
    font-size: 16px

  &.transitionable-background
    transition: background-image 1s linear

  // Backgrounds
  &.CLUBHOUSE
    background-image: url('resource:///com/hack_computer/Clubhouse/images/clubhouse_bg.jpg')

    &.off
      background-image: url('resource:///com/hack_computer/Clubhouse/images/clubhouse_bg-off.jpg')

  &.off
    background-image: url('resource:///com/hack_computer/Clubhouse/images/clubhouse_bg-blur-off.jpg')

  &.CHARACTER
    animation: background_zoom_in 500ms normal ease 1
    background-size: 200%
    transition: none

    &.ada
      background-position: top left

    &.estelle
      background-position: 65% top

    &.faber
      background-position: center 75%

    &.riley
      background-position: left 85%

    &.saniel
      background-position: bottom right


// Headerbar
headerbar
  border-radius: 1ex 1ex 0 0
  border-width: 0px
  background: linear-gradient(to bottom, rgba(0,0,0,0.3) 30%, rgba(0,0,0,0))

  > button
    padding: 1ex
    margin-right: 1ex


Message
  .button-box
    button
      $default_margin: 14px
      $color_variant_a: #76EECF
      $color_variant_b: #37DCB1
      $color_variant_c: #32BBA4
      $color_variant_d: #2D9B98
      $default_color: $color_variant_d

      // This is the default for buttons after the 3rd one (unlikely).
      background: $default_color
      border-radius: 20px

      &:nth-child(0)
        background: linear-gradient(to right, $color_variant_a, $color_variant_b)
      &:nth-child(1)
        background: linear-gradient(to right, $color_variant_b, $color_variant_c)
      &:nth-child(2)
        background: linear-gradient(to right, $color_variant_c, $color_variant_d)

      $color_variant_hover_a: lighten($color_variant_a, 10%)
      $color_variant_hover_b: lighten($color_variant_b, 10%)
      $color_variant_hover_c: lighten($color_variant_c, 10%)
      $color_variant_hover_d: lighten($color_variant_d, 10%)
      $color_variant_hover_default: $color_variant_hover_d
      &:hover
        background: $color_variant_hover_default
        &:nth-child(0)
          background: linear-gradient(to right, $color_variant_hover_a, $color_variant_hover_b)
        &:nth-child(1)
          background: linear-gradient(to right, $color_variant_hover_b, $color_variant_hover_c)
        &:nth-child(2)
          background: linear-gradient(to right, $color_variant_hover_c, $color_variant_hover_d)

      $color_variant_active_a: darken($color_variant_a, 10%)
      $color_variant_active_b: darken($color_variant_b, 10%)
      $color_variant_active_c: darken($color_variant_c, 10%)
      $color_variant_active_d: darken($color_variant_d, 10%)
      $color_variant_active_default: $color_variant_active_d
      &:active
        background: $color_variant_active_default
        &:nth-child(0)
          background: linear-gradient(to right, $color_variant_active_a, $color_variant_active_b)
        &:nth-child(1)
          background: linear-gradient(to right, $color_variant_active_b, $color_variant_active_c)
        &:nth-child(2)
          background: linear-gradient(to right, $color_variant_active_c, $color_variant_active_d)

      label
        margin-right: $default_margin
        margin-left: $default_margin
        // Force to vertically align the text.
        margin-top: 4px
        min-width: 85px

      image
        color: white

      &.nondefault
        label
          // The icon has already a margin. If this margin is set, a double margin will be viewed.
          margin-left: unset
        image
          color: white
          padding: $default_margin / 2


QuestSetInfoTip
  background-color: transparentize(#2A2368FF, 0.1)
  color: white
  border-radius: 40ex
  padding: 2ex 4ex
  opacity: 0.0
  transition: opacity .55s ease-in-out

  &.visible
    opacity: 1.0

  box
    box
      margin-left: 1ex

      label
        color: white
        font-size: 1.4em

        &:nth-child(2)
          font-weight: bold


AchievementItem
  margin: 2ex


AchievementsView
  background-color: rgba(255, 255, 255, 0.9)
  color: gray
  font-size: 16px

  .title-box
    $hover_color: #FF0079

    padding: 3ex 0em

    .hover
      color: $hover_color

  scrolledwindow
    border: 0

    scrollbar
      background: none
      border: none

    viewport
       margin: 0 4ex


AchievementSummaryView
  image
    margin: 2ex

  label
    &.title
      font-size: 1.4em
      font-weight: bold

    &.description
      padding: 2em
      padding-bottom: 3em

button.user-button
  $default_color: #FFFFFF
  $default_bg_color_left: #FB3102
  $default_bg_color_right: #D80232
  $default_hover_bg_color_left: #F9682D
  $default_hover_bg_color_right: #E84E5E
  $default_active_bg_color_left: #FB1435
  $default_active_bg_color_right: #DB0066

  box-shadow: 1px 1px 2px black
  margin: 0.75em 0.75em 0em 0.75em
  border-radius: 2em

  color: $default_color
  background: linear-gradient(to bottom right, $default_bg_color_left, $default_bg_color_right)

  &:hover
    background: linear-gradient(to bottom right, $default_hover_bg_color_left, $default_hover_bg_color_right)

  &:active
    background: linear-gradient(to bottom right, $default_active_bg_color_left, $default_active_bg_color_right)


box.user-button-box
  margin: 1em

.achievements-view-box
  margin-left: 2.5em
  margin-right: 2.5em


// Buttons attract state
@keyframes pulsate_shadow
    from
      box-shadow: 0 0 1px white
    to
      box-shadow: 0 0 10px white

.nav-attract, .button-attract
  animation-name: pulsate_shadow
  animation-duration: 1s
  animation-direction: alternate
  animation-timing-function: ease
  animation-iteration-count: infinite
  box-shadow: 0 0 10px white

// Character View
CharacterView
  list
    background-color: unset

  #mission-list
    margin: 5em 1em 1em 0
    min-height: 42.4em

  scrollbar
    margin: 0.5em 0 0.5em 0.5em

@keyframes zoom_in
    from
      background-size: 100%
    to
      background-size: 110%

@keyframes zoom_out
    from
      background-size: 110%
    to
      background-size: 100%

// QuestCard
QuestCard
  border-radius: 1em
  min-height: 20em
  margin: 0.5em

  #topbox
    background-size: cover
    background-position: top
    animation: zoom_out 250ms ease

    image
      border-top-right-radius: 1em
      background: linear-gradient(to top right, transparent 50%, white 51%)

  #topbox,
  #topbox > box
    border-radius: 1em 1em 0 0
    transition: background-image 150ms ease

  #bottombox
    background: white
    padding: 0.8em
    border-radius: 0 0 1em 1em

    image
      border-radius: 50%
      padding: 0.4em
      color: white

    #play
      $normal_color: #181866
      $complete_color: #37DCB1

      color: white
      text-shadow: none
      border-radius: 1em
      padding: 0.25em 1em
      background: $normal_color

      &:hover
        background: lighten($normal_color, 20%)

      &.complete
        background: $complete_color

      &.complete:hover
        background: darken($complete_color, 10%)

      &:disabled,
      &:disabled.complete
        background: lightgray

    #tagsview
      margin-left: 1em

      label
        color: black
        border-radius: 0.8em
        padding: 0.3em 0.8em
        margin-bottom: 0.3em
        background: lightgray

  #title
    min-height: 3em
    font-weight: bold

  stack,
  stackswitcher
    margin-top: 1ex

  stackswitcher
    button
      padding: 0
      color: gray
      font-weight: bold
      min-width: unset
      background: unset

      label
        padding: 0

    button + button
      padding-left: 1ex

  box.difficulty
    background: white

    separator
      transition: min-height 250ms ease
      min-height: 0.8em
      background: unset

      &:nth-child(2)
        margin: 0 0.2em

    &.secondary
      separator
        min-height: 0.4em

  &:hover
    #topbox
      animation: zoom_in 250ms ease
      background-size: 110%

    box.difficulty
      separator
        min-height: 0.4em

  &:selected:hover
    #topbox
      animation: unset

  &:selected
    margin: 0
    transition: margin 200ms ease

    #title
      min-height: 0
      transition: min-height 250ms ease

    #topbox
      transition: background-size 150ms ease
      background-size: 110%
      animation: unset

  &.EASY
    #bottombox image
      background-color: #0DE53C

    stackswitcher > button:checked
      color: #00efae

    &:hover,
    &:selected
      #topbox > box
        background: linear-gradient(to top right, rgba(#00efae, 0.75), rgba(#00ff15, 0.2))

    box.difficulty
      separator:first-child
        background: linear-gradient(to top right, #00efae, #00ff15)

  &.NORMAL
    #bottombox image
      background-color: #FC7908

    stackswitcher > button:checked
      color: #ff6300

    &:hover,
    &:selected
      #topbox > box
        background: linear-gradient(to top right, rgba(#f3cb14, 0.75), rgba(#fe9915, 0.2))

    box.difficulty
      separator:first-child
        background: linear-gradient(to top right, #f3cb14, #ff9800)
      separator:nth-child(2)
        background: linear-gradient(to top right, #ff9600, #ff6300)

  &.HARD
    #bottombox image
      background-color: #FA1E65

    stackswitcher > button:checked
      color: #fc0806

    &:hover,
    &:selected
      #topbox > box
        background: linear-gradient(to top right, rgba(#ff007e, 0.75), rgba(#ff0168, 0.2))

    box.difficulty
      separator:first-child
        background: linear-gradient(to top right, #ff007e, #ff0168)
      separator:nth-child(2)
        background: linear-gradient(to top right, #ff004c, #fe2d33)
      separator:last-child
        background: linear-gradient(to top right, #ff003b, #fc0806)


// News Page
ClubhouseWindow.NEWS
  background-image: url('resource:///com/hack_computer/Clubhouse/images/clubhouse_news_bg.jpg')

  headerbar
    background-size: cover
    background-image: url('resource:///com/hack_computer/Clubhouse/images/clubhouse_news_fg.png')

NewsView
  > box
    padding: 1em
    margin: 0 0 2em 2em
    border-radius: 3em
    background: transparentize(white, 0.2)

    button
      margin: 1em 0.8em

  scrolledwindow
    background: unset
    margin-top: 5em

    viewport > box
      margin-top: 2em

    scrollbar
      margin: 3em 0 1em 0

      slider
        background: lightgray

      slider:hover
        background: gray

NewsItem
  font-size: 1.2em
  margin: 1ex 2em
  border-radius: 1em
  background: white
  box-shadow: 2px 2px 3px gray

  #title
    color: #181866
    font-weight: bold

  #date
    color: gray

  > box
    margin: 1em

    *:nth-child(2)
      margin-left: 1em

